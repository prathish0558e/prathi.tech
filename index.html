<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Prathi.Tech — Student Tech Hub (Single-file)</title>
<meta name="description" content="Prathi.Tech — Free tools, student packs, coding & creative resources. Single-file SPA." />
<link rel="icon" href="data:;base64,iVBORw0KGgo=">
<style>
  /* ---------- THEME / LAYOUT ---------- */
  :root{
    --bg:#0b1020; --bg2:#07101a; --card:#0f1724; --muted:#9fb0c6; --text:#eaf3ff;
    --accent1:#7b61ff; --accent2:#00e6a8; --glass:rgba(255,255,255,0.03);
    --maxw:1100px;
  }
  [data-theme="light"]{
    --bg:#f7fbff; --bg2:#ffffff; --card:#ffffff; --muted:#51607b; --text:#061225;
    --accent1:#5b21b6; --accent2:#0ea5a0; --glass:rgba(0,0,0,0.03);
  }
  *{box-sizing:border-box}
  html,body{height:100%; margin:0; font-family:Inter,system-ui,Segoe UI,Roboto,Arial; background:var(--bg); color:var(--text); -webkit-font-smoothing:antialiased;}
  a{color:inherit}
  main{max-width:var(--maxw); margin:72px auto 80px; padding:20px;}
  .nav{position:fixed; top:10px; left:50%; transform:translateX(-50%); width:calc(100% - 40px); max-width:var(--maxw); z-index:60; display:flex; justify-content:space-between; align-items:center; gap:10px; padding:10px 12px; background:linear-gradient(180deg, rgba(0,0,0,0.18), rgba(0,0,0,0.06)); border-radius:14px; border:1px solid rgba(255,255,255,0.03); backdrop-filter:blur(6px);}
  .brand{display:flex; gap:10px; align-items:center; font-weight:800}
  .menu{display:flex; gap:8px; align-items:center}
  .menu button{background:transparent; border:0; padding:8px 10px; border-radius:10px; color:var(--muted); font-weight:700; cursor:pointer}
  .menu button.active{background:linear-gradient(90deg,var(--accent1),var(--accent2)); color:#041017}
  .themeBtn{padding:8px 10px; border-radius:10px; border:0; cursor:pointer; font-weight:700; background:linear-gradient(90deg,var(--accent1),var(--accent2)); color:#041017}
  .hero{display:grid; grid-template-columns:1fr 360px; gap:24px; align-items:center; margin-top:6vh}
  .heroCard{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border-radius:14px; padding:20px; border:1px solid rgba(255,255,255,0.04); box-shadow:0 12px 50px rgba(0,0,0,0.5)}
  h1{font-size:clamp(26px,4.5vw,44px); margin:0}
  p.lead{color:var(--muted); margin-top:12px}
  .btn{display:inline-flex; gap:10px; align-items:center; padding:10px 14px; border-radius:12px; border:0; cursor:pointer; font-weight:800}
  .btn.primary{background:linear-gradient(90deg,var(--accent1),var(--accent2)); color:#041017}
  .btn.ghost{background:transparent; border:1px solid rgba(255,255,255,0.04); color:var(--text)}
  section{margin-top:48px}
  .grid{display:grid; grid-template-columns:repeat(3,1fr); gap:16px}
  .card{background:var(--card); padding:16px; border-radius:12px; border:1px solid rgba(255,255,255,0.03); box-shadow:0 8px 34px rgba(0,0,0,0.5)}
  .muted{color:var(--muted)}
  .toolbar{display:flex; gap:12px; align-items:center; margin-top:12px}
  .input{padding:10px 12px; border-radius:10px; border:1px solid rgba(255,255,255,0.04); background:transparent; color:var(--text); min-width:220px}
  .tag{padding:6px 10px; border-radius:999px; background:rgba(255,255,255,0.02); cursor:pointer; color:var(--muted); font-weight:700}
  .tag.active{background:linear-gradient(90deg,var(--accent1),var(--accent2)); color:#041017}
  .pager{display:flex; gap:8px; margin-top:16px; flex-wrap:wrap}
  .pager button{padding:6px 10px; border-radius:8px; border:0; cursor:pointer; background:rgba(255,255,255,0.02); color:var(--muted)}
  .pager button.active{background:linear-gradient(90deg,var(--accent1),var(--accent2)); color:#041017}
  .footer{margin-top:40px; text-align:center; color:var(--muted); font-size:13px}
  /* responsive */
  @media (max-width:980px){ .hero{grid-template-columns:1fr} .grid{grid-template-columns:repeat(2,1fr)} .nav{left:12px; transform:none; width:calc(100% - 24px)} }
  @media (max-width:640px){ .grid{grid-template-columns:1fr} .menu{display:none} .nav{padding:8px} main{margin-top:120px} }
  /* reveal helper */
  .reveal{opacity:0; transform:translateY(12px); transition:all .6s cubic-bezier(.2,.9,.3,1)}
  .reveal.show{opacity:1; transform:none}
  /* canvas background */
  #bg{position:fixed; inset:0; z-index:-2}
  /* toast */
  .toast{position:fixed; right:18px; bottom:18px; z-index:80; background:rgba(0,0,0,0.6); padding:12px 14px; border-radius:10px; color:#fff}
</style>
</head>
<body data-theme="dark">
<canvas id="bg"></canvas>

<!-- NAV -->
<div class="nav" role="navigation" aria-label="Main navigation">
  <div class="brand"><div style="width:40px;height:40px;border-radius:10px;background:linear-gradient(90deg,var(--accent1),var(--accent2))"></div><div style="margin-left:6px">Prathi.Tech</div></div>
  <div class="menu" id="menu">
    <button data-route="home" class="active">Home</button>
    <button data-route="tools">Tools</button>
    <button data-route="coding">Coding</button>
    <button data-route="editing">Editing</button>
    <button data-route="packs">Packs</button>
    <button data-route="learning">Learning</button>
    <button data-route="contact">Contact</button>
  </div>
  <div style="display:flex;gap:8px;align-items:center">
    <button id="themeToggle" class="themeBtn">🌙</button>
  </div>
</div>

<main id="app">
  <!-- HOME -->
  <section id="home" class="reveal show">
    <div class="hero">
      <div>
        <h1>Prathi.Tech — Student Tech Hub</h1>
        <p class="lead">Curated free tools, student packs, interactive demos and cinematic tutorials — everything students need to build and learn fast.</p>
        <div style="margin-top:16px">
          <button class="btn primary" data-go="tools">Explore Tools</button>
          <button class="btn ghost" data-go="learning">Start Learning</button>
        </div>
        <div style="margin-top:18px" class="muted">Tip: Press <strong>/</strong> to focus search, press <strong>H</strong> for help.</div>
      </div>
      <div class="heroCard">
        <h3 style="margin:0">Top Picks</h3>
        <ul style="margin-top:10px;padding-left:18px;color:var(--muted);font-size:14px">
          <li>GitHub Student Pack — Free domains & hosting</li>
          <li>Colab — Free GPU for ML experiments</li>
          <li>Photopea — Photoshop in browser</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- TOOLS -->
  <section id="tools" class="reveal" style="display:none">
    <h2>Free Tools & Resources</h2>
    <p class="muted">Search, filter and open tools. Everything student friendly — safe & legal.</p>

    <div class="toolbar">
      <input id="search" class="input" placeholder="Search tools (hosting, editor, ai) ...">
      <select id="cat" class="input" style="max-width:160px">
        <option value="all">All</option><option value="dev">Developer</option><option value="design">Design</option>
        <option value="media">Media</option><option value="ml">ML/AI</option><option value="cloud">Cloud</option><option value="students">Students</option>
      </select>
      <div id="tagWrap" style="display:flex;gap:8px;flex-wrap:wrap"></div>
    </div>

    <div id="cards" class="grid" style="margin-top:16px"></div>
    <div id="pager" class="pager"></div>
  </section>

  <!-- CODING -->
  <section id="coding" class="reveal" style="display:none">
    <h2>Coding Platforms & Projects</h2>
    <p class="muted">Practice problems, project ideas and starter repos.</p>
    <div id="codingGrid" class="grid" style="margin-top:16px"></div>
  </section>

  <!-- EDITING -->
  <section id="editing" class="reveal" style="display:none">
    <h2>Editing & Creative Tools</h2>
    <p class="muted">Video, audio, and design tools that are free or have student offers.</p>
    <div id="editingGrid" class="grid" style="margin-top:16px"></div>
  </section>

  <!-- PACKS -->
  <section id="packs" class="reveal" style="display:none">
    <h2>Student Packs</h2>
    <p class="muted">Claim these with student email for pro features.</p>
    <div id="packsGrid" class="grid" style="margin-top:16px"></div>
  </section>

  <!-- LEARNING -->
  <section id="learning" class="reveal" style="display:none">
    <h2>Learning Resources</h2>
    <p class="muted">Courses, tutorials and books — many free options.</p>
    <div id="learnGrid" class="grid" style="margin-top:16px"></div>
  </section>

  <!-- CONTACT -->
  <section id="contact" class="reveal" style="display:none">
    <h2>Contact & Requests</h2>
    <p class="muted">Suggest a tool, report a bad link, or request a tutorial. Submissions go to your Google Sheet.</p>
    <form id="contactForm" style="max-width:760px;margin-top:16px">
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px">
        <input name="name" placeholder="Your name" class="input" required>
        <input name="email" type="email" placeholder="Email (optional)" class="input">
      </div>
      <textarea name="message" rows="6" placeholder="Tell us what tool or resource you want..." class="input" style="margin-top:10px" required></textarea>
      <div style="margin-top:10px;display:flex;gap:10px">
        <button type="submit" class="btn primary">Send Request</button>
        <div id="formNote" class="muted" style="align-self:center">Requires Apps Script Web App URL in code.</div>
      </div>
    </form>
  </section>

  <div class="footer">© <span id="year"></span> Prathi.Tech — Free Tools & Resources for Students</div>
</main>

<!-- TOAST -->
<div id="toast" class="toast" style="display:none"></div>

<!-- ---------- INLINE DATA + SCRIPTS ---------- -->
<script>
/* ========== Inline data ========== */
/* This array can be very large; put thousands of objects if needed. */
const DATA = {
  tools: [
    {title:'GitHub Student Pack',desc:'100+ dev tools free for students (domains, hosting, IDEs)',url:'https://education.github.com/pack',tags:['students','dev']},
    {title:'Netlify',desc:'Static hosting & serverless functions (free tier)',url:'https://www.netlify.com',tags:['hosting','cloud']},
    {title:'Vercel',desc:'Host React/Next apps free',url:'https://vercel.com',tags:['hosting','cloud']},
    {title:'GitHub Pages',desc:'Free static hosting via GitHub',url:'https://pages.github.com',tags:['hosting','students']},
    {title:'Namecheap (Student offers)',desc:'Domains & offers via student packs',url:'https://www.namecheap.com',tags:['domain','students']},
    {title:'Figma Education',desc:'Figma Pro for students & teachers',url:'https://www.figma.com/education',tags:['design','students']},
    {title:'Photopea',desc:'Photoshop-like editor in the browser',url:'https://www.photopea.com',tags:['design','media']},
    {title:'Canva (Education)',desc:'Canva Pro free with edu verification',url:'https://www.canva.com/education',tags:['design','students']},
    {title:'Google Colab',desc:'Free notebooks with GPU support',url:'https://colab.research.google.com',tags:['ml','ai']},
    {title:'Kaggle',desc:'Datasets, notebooks & competitions',url:'https://www.kaggle.com',tags:['ml','data']},
    {title:'TryHackMe',desc:'Beginner-friendly cybersecurity labs',url:'https://tryhackme.com',tags:['security','labs']},
    {title:'Hack The Box',desc:'Advanced pentest labs (student-friendly)',url:'https://www.hackthebox.com',tags:['security','labs']},
    {title:'VS Code',desc:'Free code editor from Microsoft',url:'https://code.visualstudio.com',tags:['dev','ide']},
    {title:'JetBrains (Student)',desc:'Professional IDEs free for verified students',url:'https://www.jetbrains.com/community/education',tags:['dev','students']},
    {title:'Postman',desc:'API development and testing',url:'https://www.postman.com',tags:['dev','api']},
    {title:'MongoDB Atlas (Student)',desc:'Free DB credits for students',url:'https://www.mongodb.com/atlas/student',tags:['cloud','db']},
    {title:'Audacity',desc:'Free audio editor for podcasts and clips',url:'https://www.audacityteam.org',tags:['media','audio']},
    {title:'Kapwing',desc:'Online video editor (free tier)',url:'https://www.kapwing.com',tags:['media','video']},
    {title:'Blender',desc:'Free 3D creation suite (animation, rendering)',url:'https://www.blender.org',tags:['media','3d']},
    {title:'Glitch',desc:'Host Node apps and prototypes',url:'https://glitch.com',tags:['hosting','dev']},
    {title:'Replit',desc:'Online coding environment and hosting',url:'https://replit.com',tags:['dev','hosting']},
    {title:'FreeCodeCamp',desc:'Free web dev curriculum and projects',url:'https://www.freecodecamp.org',tags:['learning','coding']},
    {title:'edX (audit)',desc:'University courses (audit for free)',url:'https://www.edx.org',tags:['learning']},
    {title:'Coursera (audit)',desc:'Courses you can audit free',url:'https://www.coursera.org',tags:['learning']},
    {title:'NPTEL',desc:'Indian college-level courses (free)',url:'https://nptel.ac.in',tags:['learning','students']},
    {title:'Project Gutenberg',desc:'Free eBooks',url:'https://www.gutenberg.org',tags:['learning','books']},
    {title:'TinyPNG',desc:'Compress images for web (free credits)',url:'https://tinypng.com',tags:['design','tools']},
    {title:'Photopea Templates',desc:'Free templates and PSD resources',url:'https://www.photopea.com',tags:['design','image']},
    {title:'Sandbox CTF',desc:'Practice small CTF-style challenges',url:'https://ctf.learn',tags:['security','labs']},
    {title:'OBS Studio',desc:'Free streaming and recording software',url:'https://obsproject.com',tags:['media','streaming']},
    {title:'Notion (student)',desc:'Notion Personal Pro for students',url:'https://www.notion.so/education',tags:['productivity','students']},
    {title:'Google Drive (edu)',desc:'Office & storage for students',url:'https://drive.google.com',tags:['cloud','students']}
  ],
  coding:[
    {title:'LeetCode',desc:'DSA practice platform',url:'https://leetcode.com',tags:['dsa','practice']},
    {title:'HackerRank',desc:'Programming contests & practice',url:'https://www.hackerrank.com',tags:['practice']},
    {title:'Codeforces',desc:'Competitive programming contests',url:'https://codeforces.com',tags:['contests']},
    {title:'Project Euler',desc:'Math/programming problems',url:'https://projecteuler.net',tags:['math']},
    {title:'CS50 (Harvard)',desc:'Intro to computer science',url:'https://cs50.harvard.edu',tags:['course']}
  ],
  editing:[
    {title:'Photopea',desc:'Photoshop in the browser',url:'https://www.photopea.com',tags:['image']},
    {title:'Kapwing',desc:'Online video editor',url:'https://www.kapwing.com',tags:['video']},
    {title:'Audacity',desc:'Audio editor',url:'https://www.audacityteam.org',tags:['audio']}
  ],
  packs:[
    {title:'GitHub Student Pack',desc:'Get free domains, hosting, and more',url:'https://education.github.com/pack',tags:['students']},
    {title:'JetBrains IDEs',desc:'Free professional IDE for students',url:'https://www.jetbrains.com/community/education',tags:['students']},
    {title:'Microsoft Azure for Students',desc:'Free cloud credits',url:'https://azure.microsoft.com/en-us/free/students',tags:['students','cloud']}
  ],
  learning:[
    {title:'freeCodeCamp',desc:'Learn web dev and get certificates',url:'https://www.freecodecamp.org',tags:['web']},
    {title:'MIT OCW',desc:'OpenCourseWare from MIT',url:'https://ocw.mit.edu',tags:['courses']},
    {title:'Khan Academy',desc:'Basics & algorithms',url:'https://www.khanacademy.org',tags:['courses']}
  ]
};

/* ========== State & Helpers ========== */
const state = {
  current: 'home',
  theme: localStorage.getItem('prathi_theme') || 'dark',
  pageSize: 18,
  currentPage: 1
};

function showToast(msg, ok=true){
  const t=document.getElementById('toast'); t.style.display='block'; t.textContent=msg;
  t.style.background= ok ? 'linear-gradient(90deg,#0f9,#06a)' : 'linear-gradient(90deg,#f55,#a00)';
  setTimeout(()=> t.style.display='none', 2500);
}

/* ========== NAV / ROUTING ========== */
function setActiveMenu(route){
  document.querySelectorAll('.menu button').forEach(b=>b.classList.toggle('active', b.getAttribute('data-route')===route));
}
function showSection(id){
  state.current = id;
  document.querySelectorAll('main section').forEach(s=> s.style.display = (s.id===id ? '' : 'none'));
  setActiveMenu(id);
  // run per-section initializers:
  if(id==='tools') bootTools();
  if(id==='coding') bootGrid('coding', DATA.coding, '#codingGrid');
  if(id==='editing') bootGrid('editing', DATA.editing, '#editingGrid');
  if(id==='packs') bootGrid('packs', DATA.packs, '#packsGrid');
  if(id==='learning') bootGrid('learning', DATA.learning, '#learnGrid');
  scrollTo({top:0, behavior:'smooth'});
}
document.addEventListener('click', e=>{
  const go = e.target.closest('[data-go]');
  if(go){ e.preventDefault(); showSection(go.getAttribute('data-go')); }
  const routeBtn = e.target.closest('.menu button');
  if(routeBtn){ showSection(routeBtn.getAttribute('data-route')); }
});

/* ========== THEME ========== */
const themeBtn = document.getElementById('themeToggle');
function applyTheme(t){
  document.documentElement.setAttribute('data-theme', t);
  localStorage.setItem('prathi_theme', t);
  themeBtn.textContent = (t==='dark' ? '🌙' : '☀️');
}
themeBtn.addEventListener('click', ()=>{ state.theme = (state.theme==='dark'?'light':'dark'); applyTheme(state.theme); });
applyTheme(state.theme);

/* ========== PARTICLES: STARFIELD (lightweight) ========== */
(function starfield(){
  const c = document.getElementById('bg'); const ctx = c.getContext('2d');
  let W = c.width = innerWidth, H = c.height = innerHeight;
  addEventListener('resize', ()=>{ W=c.width=innerWidth; H=c.height=innerHeight; init(); });
  let stars = [];
  function init(){
    stars = []; const N = Math.min(300, Math.round(W*H/6000));
    for(let i=0;i<N;i++) stars.push({x:Math.random()*W, y:Math.random()*H, r:Math.random()*1.8+0.2, vx:(Math.random()-0.5)*0.3, vy:(Math.random()-0.5)*0.15, a:Math.random()*0.5+0.05});
  }
  function frame(){
    ctx.clearRect(0,0,W,H);
    // subtle background gradient
    const g = ctx.createLinearGradient(0,0,W,H);
    g.addColorStop(0, 'rgba(123,97,255,0.03)');
    g.addColorStop(1, 'rgba(0,230,168,0.02)');
    ctx.fillStyle = g; ctx.fillRect(0,0,W,H);
    for(const s of stars){
      s.x += s.vx; s.y += s.vy;
      if(s.x<-10) s.x = W+10; if(s.x>W+10) s.x = -10;
      if(s.y<-10) s.y = H+10; if(s.y>H+10) s.y = -10;
      ctx.beginPath(); ctx.fillStyle = `rgba(255,255,255,${s.a})`; ctx.arc(s.x, s.y, s.r, 0, Math.PI*2); ctx.fill();
    }
    requestAnimationFrame(frame);
  }
  init(); frame();
})();

/* ========== REVEAL ON SCROLL (simple) ========== */
(function reveal(){
  const obs = new IntersectionObserver(entries=>{
    entries.forEach(en=> { if(en.isIntersecting) en.target.classList.add('show'); });
  },{threshold:0.12});
  document.querySelectorAll('.reveal').forEach(el=>obs.observe(el));
})();

/* ========== TOOLS: SEARCH, FILTER, PAGINATION ========== */
let toolsAll = DATA.tools; // can be huge
function bootTools(){
  // only initialize once
  if(document.getElementById('cards').getAttribute('data-inited')) return;
  document.getElementById('cards').setAttribute('data-inited','1');

  const searchEl = document.getElementById('search');
  const catEl = document.getElementById('cat');
  const tagWrap = document.getElementById('tagWrap');
  const cards = document.getElementById('cards');
  const pager = document.getElementById('pager');

  // tags from data
  function tagsFromData(){
    const set = new Set(['all']);
    toolsAll.forEach(i=> (i.tags||[]).forEach(t=> set.add(t)));
    return Array.from(set);
  }
  function drawTags(active='all'){
    const tags = tagsFromData();
    tagWrap.innerHTML = tags.map(t => `<div class="tag ${t===active?'active':''}" data-tag="${t}">${t}</div>`).join('');
    // add click listeners
    tagWrap.querySelectorAll('.tag').forEach(b=> b.addEventListener('click', e=>{
      const tag = b.getAttribute('data-tag'); state.currentPage = 1;
      document.querySelectorAll('#tagWrap .tag').forEach(x=>x.classList.remove('active'));
      b.classList.add('active');
      render();
    }));
  }

  function render(){
    const q = (searchEl.value||'').trim().toLowerCase();
    const cat = catEl.value;
    const activeTag = (document.querySelector('#tagWrap .tag.active')||{dataset:{tag:'all'}}).dataset.tag || 'all';
    let res = toolsAll.filter(it=>{
      if(cat !== 'all' && it.tags && !it.tags.includes(cat)) return false;
      if(activeTag !== 'all' && it.tags && !it.tags.includes(activeTag)) return false;
      if(!q) return true;
      const str = (it.title + ' ' + (it.desc||'') + ' ' + (it.tags||[]).join(' ')).toLowerCase();
      return str.includes(q);
    });
    const total = res.length;
    const pages = Math.max(1, Math.ceil(total / state.pageSize));
    if(state.currentPage > pages) state.currentPage = 1;
    const start = (state.currentPage -1) * state.pageSize;
    const pageItems = res.slice(start, start + state.pageSize);

    // draw cards
    cards.innerHTML = pageItems.map(it=>`
      <div class="card reveal">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div>
            <h3 style="margin:0 0 6px;font-size:16px">${it.title}</h3>
            <div class="muted" style="font-size:13px">${it.desc||''}</div>
          </div>
          <div style="text-align:right">
            ${(it.tags||[]).slice(0,3).map(t=>`<div class="tag" style="margin-bottom:6px">${t}</div>`).join('')}
            <div style="margin-top:8px"><a class="btn" href="${it.url}" target="_blank" rel="noopener">Open</a></div>
          </div>
        </div>
      </div>
    `).join('');
    // reveal observer for new nodes
    document.querySelectorAll('.reveal').forEach(el=> el.classList.add('show'));

    // pager
    pager.innerHTML = Array.from({length:pages}).map((_,i)=> `<button class="${i+1===state.currentPage?'active':''}" data-page="${i+1}">${i+1}</button>`).join('');
    pager.querySelectorAll('button').forEach(b=> b.addEventListener('click', e=>{ state.currentPage = +b.dataset.page; render(); }));
  }

  // events
  searchEl.addEventListener('input', ()=>{ state.currentPage = 1; render(); });
  catEl.addEventListener('change', ()=>{ state.currentPage = 1; render(); });

  drawTags();
  render();
}

/* ========== helper to render other grids (coding/editing/...) ========= */
function bootGrid(name, dataArray, mountSel){
  const mount = document.querySelector(mountSel);
  if(!mount) return;
  mount.innerHTML = dataArray.map(it=>`
    <div class="card reveal">
      <h3 style="margin:0 0 6px">${it.title}</h3>
      <div class="muted" style="font-size:13px">${it.desc||''}</div>
      <div style="margin-top:12px"><a class="btn" href="${it.url}" target="_blank">Open</a></div>
    </div>
  `).join('');
  document.querySelectorAll('.reveal').forEach(el=> el.classList.add('show'));
}

/* ========== CONTACT FORM → Google Sheets (Apps Script) ========== */
/* IMPORTANT: deploy your Apps Script and replace WEB_APP_URL below */
let WEB_APP_URL = 'https://script.google.com/macros/s/YOUR_DEPLOYMENT_ID/exec'; // <- REPLACE with your URL

document.getElementById('contactForm').addEventListener('submit', async (e)=>{
  e.preventDefault();
  const f = e.target;
  const data = { name: f.name.value, email: f.email.value, message: f.message.value };
  if(!data.name || !data.message){ showToast('Fill name and message', false); return; }
  try{
    // use POST; Apps Script expects JSON
    const res = await fetch(WEB_APP_URL, { method:'POST', headers: {'Content-Type':'application/json'}, body: JSON.stringify(data)});
    // if deployed with "Anyone", result will be ok. If CORS blocks, still the Apps Script will get data if using no-cors and formsubmit style.
    showToast('Request sent ✅');
    f.reset();
  }catch(err){
    showToast('Submit failed — set Apps Script URL in code', false);
  }
});

/* ========== INIT on load ========== */
document.addEventListener('DOMContentLoaded', ()=>{
  // set year
  document.getElementById('year').textContent = new Date().getFullYear();
  // setup menu links
  document.querySelectorAll('.menu button').forEach(b=> b.addEventListener('click', ()=> {
    document.querySelectorAll('.menu button').forEach(x=>x.classList.remove('active'));
    b.classList.add('active');
  }));
  // quick keys
  window.addEventListener('keydown', (e)=>{
    if(e.key==='/' && document.activeElement.tagName!=='INPUT' && document.activeElement.tagName!=='TEXTAREA'){ e.preventDefault(); const s=document.getElementById('search'); if(s){ showSection('tools'); s.focus(); } }
    if(e.key.toLowerCase()==='h'){ alert('Help:\\n- / : focus search\\n- H : help\\n- Use menu to switch sections\\n- Contact form posts to your Google Sheet (configure Apps Script)'); }
  });
  // initial
  const hash = location.hash.replace('#','');
  showSection(hash || 'home');
});
</script>

</body>
</html>
